hotel-service:
  replicaCount: 1
  image:
    repository: k8s-harbor-harborin-04b31170bb-1679859835.us-east-1.elb.amazonaws.com/phoenix-project/phoenix-hotel-service
    tag: "latest"
  service:
    port: 7103
  serviceAccount:
    name: hotel-service-sa
  imagePullSecrets:
    - name: harbor-creds
  resources:
    requests:
      cpu: "50m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "512Mi"
  env:
    - name: OTEL_EXPORTER_OTLP_ENDPOINT
      value: http://otel-collector.observability:4317
    - name: OTEL_SERVICE_NAME
      value: hotel-service
    - name: OTEL_RESOURCE_ATTRIBUTES
      value: service.namespace=phoenix-app,service.name=hotel-service,deployment.environment=prod
    - name: MONGODB_CONNECTION_STRING
      value: "mongodb://mongodb:27017/hotel-booking"
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 75
  podDisruptionBudget:
    enabled: true
    minAvailable: 1
